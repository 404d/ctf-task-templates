CC=gcc
#CC=clang # noen ganger putter gcc inn shit på stacken
CFLAGS=-Wall -Wextra
CFLAGS+=-fno-stack-protector # skru av stack cookies
CFLAGS+=-z execstack # skru av NX
CFLAGS+=-no-pie # -fno-pie for clang (ikke randomiser addressen til binærfilen)
CFLAGS+=-Wl,-z,norelro # skru av RELRO (GOT - Global Offset Table er skrivbar)

.PHONY: all, run, clean
all: flip

flip: flip.c
	$(CC) $(CFLAGS) $^ -o $@

run: flip
	./$^

clean:
	rm -vf flip
